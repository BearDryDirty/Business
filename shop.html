<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <link rel="stylesheet" href="css/sm.css">
    <link rel="stylesheet" href="css/common.css">

  </head>
  <body>
    <div class="page-group">
		<div class="page">


		  <nav class="bar bar-tab bg-blue">
		    <a class="tab-item bg-blue" href="javascript:void(0)">
                <label class="sel-all" for="chk"><input type="checkbox" class="chkbox" id="chk"> 全选</label>
		      <span class="tab-label">合计：¥<i class="total">0</i></span>
		    </a>
		    <a class="tab-item bg-red" href="supply.html">
		      <span class="tab-label">结算</span>
		    </a>
		  </nav>

		  <div class="content">
			<div class="box">
				<div class="list-block media-list shop-list">
			      <ul>
                      <li>
      			          <div class="item-content">
                            <input type="checkbox" name="myChk" class="chkbox">
      			            <div class="item-media"><img src="images/pic.jpg" style='width: 3rem;'></div>
      			            <div class="item-inner">
      			              <div class="item-title-row">
      			                <a class="item-title" href="show.html">
      								<i class="icon-1">求</i>
      								<i class="icon-2">企</i>
      								<i class="icon-3">供</i>
      								<i class="icon-4">实</i>
      								集美地区厂房出租集美地区厂房出租集美地区厂房出租集美地区厂房
      							</a>
      			              </div>
      			              <div class="item-subtitle c-red">价格¥<i class="price">8</i></div>
      						  <div class="item-subtitle"><i class="icon-q">企业</i><i class="icon-q">自营</i><span class="pull-right button button-light del-btn">删除</span></div>
      			            </div>
      					</div>
  			        </li>
                    <li>
                        <div class="item-content">
                              <input type="checkbox" name="myChk" class="chkbox">
                          <div class="item-media"><img src="images/pic.jpg" style='width: 3rem;'></div>
                          <div class="item-inner">
                            <div class="item-title-row">
                              <a class="item-title" href="show.html">
                                  <i class="icon-1">求</i>
                                  <i class="icon-2">企</i>
                                  <i class="icon-3">供</i>
                                  <i class="icon-4">实</i>
                                  集美地区厂房出租集美地区厂房出租集美地区厂房出租集美地区厂房
                              </a>
                            </div>
                            <div class="item-subtitle c-red">价格¥<i class="price">8</i></div>
                            <div class="item-subtitle"><i class="icon-q">企业</i><i class="icon-q">自营</i><span class="pull-right button button-light del-btn">删除</span></div>
                          </div>
                      </div>
                  </li>

			      </ul>
			    </div>
			</div>
		</div>



    </div>

    <script type='text/javascript' src='js/zepto.min.js' charset='utf-8'></script>
    <script type='text/javascript' src='js/sm.js' charset='utf-8'></script>
    <script type="text/javascript">
        $(".chkbox").click(function(){
            total()
        })
        $("#chk").click(function(){
            $(".shop-list li").each(function(){
                $(this).find("input").prop("checked","checked")
            })
            total()
        })
        function total(){
            var total = 0;
            var price = 0;
            var len = $(".shop-list li").length;
            var num = 0;
            $(".shop-list li").each(function(){
                if ($(this).find("input").is(":checked")) {
                    var price =$(this).parent().parent().find(".price").text();
                    total = parseInt(total)+parseInt(price);
                    num++
                }
            });
            $(".total").text(total);
            if(num == len){
                $("#chk").prop("checked","checked")
            }else{
                $("#chk").prop("checked","")
            }
        }

        $(".del-btn").click(function(){
            $(this).parents("li").remove();
            total()
        })
    </script>
  </body>
</html>
